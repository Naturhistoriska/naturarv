<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:ui="http://java.sun.com/jsf/facelets" 
      xmlns:h="http://java.sun.com/jsf/html"   
      xmlns:p="http://primefaces.org/ui"  >

  <body>
    <ui:composition  template="/templates/masterLayout.xhtml">    

      <ui:define name="content"  >   
        <h:panelGroup id="mainPanel"  layout="block" styleClass="homePanel"  >    
         

          <h:form id="homeForm" prependId="false">  

            <div class="ui-g" style="width: 980px;">
              <div class="ui-g-9"> 
                <div class="ui-g-12"  > 
                  <h:outputText id="welcomeText1" value="#{msg.welcome1}" styleClass="welcomeheader" /> 
                </div> 
                <div class="ui-g-12" >
                  <h:outputText id="welcomeText2" value="#{msg.welcome2}"  styleClass="welcomeheader" />  
                </div>  
                <div class="ui-g-12" >   
                  <div class="ui-g-7">
                    <div class="ui-g-12 baggimg" >
                      <p:cache region="3baggcache" key="3baggimg">
                        <h:graphicImage library="images" 
                                        name="3bagg_rising.png" alt="3bagg" 
                                        title="3bagg" styleClass="images"  
                                        width="350" height="292"  /> 
                      </p:cache>  
                    </div>   
                    <div class="ui-g-12 baggimgtext" >
                      <h:outputText value="#{msg.photo3bagg}"    /> 
                    </div>
                  </div>

                  <div class="ui-g-5" style="padding-top: 5em; padding-right: 2em; ">
                    <h:outputText value="#{msg.welcomedescription}" /> 
                    <div class="ui-g-12" >
                      <div class="ui-g-4" /> 
                      <div class="ui-g-8 readMoreLink" >  
                        <p:commandLink actionListener="#{navigate.gotoAbout()}" 
                                       value="#{msg.readmore}" styleClass="link"
                                       process="@this" global="false"   /> 
                      </div>
                    </div> 
                  </div> 
                </div> 
                <div class="ui-g-12">
                  <p:spacer width="100" height="40" />  
                </div>
                <div class="ui-g-12" style="padding-left: 80px;">
                  <p:chart type="bar" id="monthChart" model="#{chart.totalMonthChart}" 
                           style="height:300px; width: 550px;  " /> 
                </div>
                <div class="ui-g-12">
                  <p:spacer width="100" height="40" />  
                </div>
                <div class="ui-g-12" style="padding-left: 80px;">
                  <p:chart type="bar" id="yearChart" model="#{chart.totalTenYearsChart}" 
                           style="height:300px; width: 550px;  " />

                </div>
              </div>

              <!--              statistic panel         -->
              <h:panelGrid id="shoutcutpanel" styleClass="statistic textLink">
                <p:spacer width="20" height="20" /> 
                <p:spacer width="20" height="20" />
                <p:spacer width="20" height="20" />


                <h:outputText value="#{msg.commonsearch}" style="font-weight: bold;" /> 
                <p:commandLink actionListener="#{searchBean.all()}"  process="@this" > 
                  <h:panelGrid columns="2" columnClasses="leftcolumn,rightcolumn" 
                               cellpadding="0" cellspacing="0"  styleClass="statistic"   >
                    <h:outputText value="#{msg.allspecimens}" />  
                    <h:outputText value="#{statistic.totalRecords}"   style="text-align: right; " /> 
                  </h:panelGrid> 
                </p:commandLink>  

                <p:commandLink actionListener="#{searchBean.searchWithSingleFilter('map:')}"  process="@this"   > 
                  <h:panelGrid columns="2" columnClasses="leftcolumn,rightcolumn" 
                               cellpadding="0" cellspacing="0" styleClass="statistic" >
                    <h:outputText value="#{msg.specimenswithmap}" />     
                    <h:outputText value="#{statistic.totalMaps}"  style="text-align: right;" />
                  </h:panelGrid> 
                </p:commandLink>  

                <p:commandLink actionListener="#{searchBean.searchWithSingleFilter('inSweden:')}"  process="@this"   > 
                  <h:panelGrid columns="2" columnClasses="leftcolumn,rightcolumn" 
                               cellpadding="0" cellspacing="0" styleClass="statistic" >
                    <h:outputText value="#{msg.specimensinsweden}" />      
                    <h:outputText value="#{statistic.totalInSweden}" />
                  </h:panelGrid> 
                </p:commandLink>  

                <p:commandLink actionListener="#{searchBean.searchWithSingleFilter('dna:')}"  process="@this"   > 
                  <h:panelGrid columns="2" columnClasses="leftcolumn,rightcolumn" 
                               cellpadding="0" cellspacing="0" styleClass="statistic" >
                    <h:outputText value="#{msg.specimenswithdna}" />        
                    <h:outputText value="#{statistic.totalDnas}" />
                  </h:panelGrid> 
                </p:commandLink> 

                <p:commandLink actionListener="#{searchBean.searchWithSingleFilter('image:')}"  process="@this"   > 
                  <h:panelGrid columns="2" columnClasses="leftcolumn,rightcolumn" 
                               cellpadding="0" cellspacing="0" styleClass="statistic" >
                    <h:outputText value="#{msg.specimenswithimage}" />       
                    <h:outputText value="#{statistic.totalImages}" />
                  </h:panelGrid> 
                </p:commandLink>  



                <p:commandLink actionListener="#{searchBean.searchWithSingleFilter('isType:')}"  process="@this"   > 
                  <h:panelGrid columns="2" columnClasses="leftcolumn,rightcolumn" 
                               cellpadding="0" cellspacing="0" styleClass="statistic" >
                    <h:outputText value="#{msg.specimenwithtype}" />          
                    <h:outputText value="#{statistic.totalType}" />
                  </h:panelGrid> 
                </p:commandLink>

                <p:spacer width="20" height="20" />
                <p:spacer width="20" height="20" />

                <h:outputText value="#{msg.allitemsincollections}" style="font-weight: bold;" />
                <ui:repeat var="collection" value="#{statistic.collections}" varStatus="collectionStatus" >   
                  <p:commandLink actionListener="#{searchBean.searchCollectionWithSingleFilter(collection)}" 
                                 title="#{collection.name}"  
                                 process="@this"  >  
                    <h:panelGrid columns="2" columnClasses="leftcolumn,rightcolumn"
                                 cellpadding="0" cellspacing="0" styleClass="statistic"> 
                      <h:outputText value="#{collection.shortName}" />  
                      <h:outputText value="#{collection.total}" />
                    </h:panelGrid>  
                  </p:commandLink>   
                </ui:repeat>  

                <p:spacer width="20" height="20" />
                <p:spacer width="20" height="20" />

                <h:outputText value="#{msg.institution}" style="font-weight: bold;"/>
                <ui:repeat var="entry" value="#{statistic.institutions.entrySet()}" varStatus="institutionStatus" >   
                  <p:commandLink actionListener="#{searchBean.searchInstitutionWithSingleFilter(entry.key)}" 
                                 title="#{entry.key}"  
                                 process="@this" rendered="#{entry.value > 0}" >  
                    <h:panelGrid id="institutionpanel" columns="2" columnClasses="leftcolumn,rightcolumn" 
                                 cellpadding="0" cellspacing="0" styleClass="statistic"> 
                      <h:outputText value="#{entry.key}" /> 
                      <h:outputText value="#{entry.value}" />
                    </h:panelGrid> 
                  </p:commandLink>  
                </ui:repeat>  

                <p:spacer width="20" height="20" />
                <p:spacer width="20" height="20" />
                <h:outputText value="#{msg.externallink}" style="font-weight: bold;"  />  

                <h:outputLink id="dinaspecieslink" value="http://naturforskaren.se/"  
                              title="scientificname"  target="_blank" >  
                  <h:outputText value="#{msg.naturforskaren}"   />   
                </h:outputLink> 
                <h:outputText value="#{msg.naturforskarendesc}" style="font-size: 10px;" />  

                <h:outputLink value="http://www.gbif.se/" target="_blank" > 
                  <h:outputText value="#{msg.gibf}" /> 
                </h:outputLink>
                <h:outputText value="#{msg.gibfdesc}" style="font-size: 10px;" />  
              </h:panelGrid> 
            </div> 
          </h:form> 
        </h:panelGroup>
      </ui:define>
    </ui:composition>
  </body>
</html>

